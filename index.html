<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ready-to-use Australian common structures and classifications and tools for working with them â€¢ strayr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Ready-to-use Australian common structures and classifications and tools for working with them">
<meta property="og:description" content="This package provides data and functions for working with common structures and classifications used in Australia.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">strayr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/runapp-aus/strayr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="strayr-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#strayr-" class="anchor"></a>strayr <img src="reference/figures/apple-touch-icon-152x152.png" align="right" style="height:150px">
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The <code>strayr</code> package provides tools to make working with Australian data easier. This includes:</p>
<ul>
<li><p>tidy versions of common structures used by the Australian Bureau of Statistics (ABS), like ANZSIC and ANZSCO:</p></li>
<li><p>a function to tidy up state names (<code>clean_states()</code>); and</p></li>
<li><p>a function that knows whether particular dates are public holidays (<code><a href="reference/is_holiday.html">is_holiday()</a></code>).</p></li>
</ul>
<p>This package is currently <strong>in development</strong> and subject to change. The lifecycle badge will be changed to <code>stable</code> when it is stable (should be relatively soon).</p>
<p><strong>Contribute to this package</strong>: people are actively encouraged to contribute to this package.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install the current version of <code>strayr</code> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"runapp-aus/strayr"</span><span class="op">)</span></code></pre></div>
</div>
<div id="structures" class="section level2">
<h2 class="hasAnchor">
<a href="#structures" class="anchor"></a>Structures</h2>
<p>Current structures stored in <code>strayr</code> are:</p>
<ul>
<li>
<code>anzsco</code>: occupation levels of the <a href="https://www.abs.gov.au/AUSSTATS/abs@.nsf/DetailsPage/1220.0First%20Edition,%20Revision%201?OpenDocument">Australian and New Zealand Standard Classification of Occupations (ANZSCO), First Edition, Revision 1, 2009. Cat. 1220.0</a>.</li>
<li>
<code>anzsic</code>: industry levels of the <a href="https://www.abs.gov.au/ausstats/abs@.nsf/0/20C5B5A4F46DF95BCA25711F00146D75?opendocument">Australian and New Zealand Standard Industrial Classification (ANZSIC), 2006 (Revision 1.0). Cat. 1292.0</a>.</li>
<li>
<code>asced_foe</code>: field of education levels of the <a href="https://www.abs.gov.au/ausstats/abs@.nsf/mf/1272.0">Australian Standard Classification of Education (ASCED), 2001. Cat. 1272.0</a>.</li>
<li>
<code>asced_qual</code>: qualification levels of the <a href="https://www.abs.gov.au/ausstats/abs@.nsf/mf/1272.0">Australian Standard Classification of Education (ASCED), 2001. Cat. 1272.0</a>.</li>
</ul>
<p>The <code>strayr</code> package also loads <a href="https://github.com/wfmackey/absmapsdata"><code>absmapsdata</code></a>, which contains the following structures <em>and their geometry</em> as <code>sf</code> objects:</p>
<p><strong>ASGS Main Structures</strong></p>
<ul>
<li>
<code>sa12011</code>: Statistical Area 1 2011</li>
<li>
<code>sa12016</code>: Statistical Area 1 2016</li>
<li>
<code>sa22011</code>: Statistical Area 2 2011</li>
<li>
<code>sa22016</code>: Statistical Area 2 2016</li>
<li>
<code>sa32011</code>: Statistical Area 3 2011</li>
<li>
<code>sa32016</code>: Statistical Area 3 2016</li>
<li>
<code>sa42011</code>: Statistical Area 4 2011</li>
<li>
<code>sa42016</code>: Statistical Area 4 2016</li>
<li>
<code>gcc2011</code>: Greater Capital Cities 2011</li>
<li>
<code>gcc2016</code>: Greater Capital Cities 2016</li>
<li>
<code>ra2011</code>: Remoteness Areas 2011</li>
<li>
<code>ra2016</code>: Remoteness Areas 2016</li>
<li>
<code>state2011</code>: State 2011</li>
<li>
<code>state2016</code>: State 2016</li>
</ul>
<p><strong>ASGS Non-ABS Structures</strong></p>
<ul>
<li>
<code>ced2018</code>: Commonwealth Electoral Divisions 2018</li>
<li>
<code>sed2018</code>: State Electoral Divisions 2018</li>
<li>
<code>lga2016</code>: Local Government Areas 2016</li>
<li>
<code>lga2018</code>: Local Government Areas 2018</li>
<li>
<code>regional_ivi2008</code>: Regions for the Internet Vacancy Index 2008</li>
<li>
<code>postcodes2016</code>: Postcodes 2016</li>
<li>
<code>dz2011</code>: Census of Population and Housing Destination Zones 2011</li>
<li>
<code>dz2016</code>: Census of Population and Housing Destination Zones 2016</li>
</ul>
</div>
<div id="using-abs-structures" class="section level2">
<h2 class="hasAnchor">
<a href="#using-abs-structures" class="anchor"></a>Using ABS structures</h2>
<p>Loading the package will lazily load the structures listed above. Call them with their name:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">strayr</span><span class="op">)</span>
<span class="co">#&gt; Loading required package: absmapsdata</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">anzsco</span><span class="op">)</span>
<span class="co">#&gt; Rows: 1,180</span>
<span class="co">#&gt; Columns: 11</span>
<span class="co">#&gt; $ anzsco_major_code      &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1", "1", "1â€¦</span>
<span class="co">#&gt; $ anzsco_major           &lt;chr&gt; "Managers", "Managers", "Managers", "Managers",â€¦</span>
<span class="co">#&gt; $ anzsco_submajor_code   &lt;chr&gt; "10", "11", "11", "11", "11", "11", "11", "11",â€¦</span>
<span class="co">#&gt; $ anzsco_submajor        &lt;chr&gt; "Managers, nfd", "Chief Executives, General Manâ€¦</span>
<span class="co">#&gt; $ anzsco_minor_code      &lt;chr&gt; "100", "110", "111", "111", "111", "111", "111"â€¦</span>
<span class="co">#&gt; $ anzsco_minor           &lt;chr&gt; "Managers, nfd", "Chief Executives, General Manâ€¦</span>
<span class="co">#&gt; $ anzsco_unit_code       &lt;chr&gt; "1000", "1100", "1110", "1111", "1112", "1112",â€¦</span>
<span class="co">#&gt; $ anzsco_unit            &lt;chr&gt; "Managers, nfd", "Chief Executives, General Manâ€¦</span>
<span class="co">#&gt; $ anzsco_occupation_code &lt;chr&gt; "100000", "110000", "111000", "111111", "111211â€¦</span>
<span class="co">#&gt; $ anzsco_occupation      &lt;chr&gt; "Managers, nfd", "Chief Executives, General Manâ€¦</span>
<span class="co">#&gt; $ skill_level            &lt;chr&gt; NA, NA, NA, "1", "1", "1", "1", "1", "1", NA, Nâ€¦</span>
<span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">anzsic</span><span class="op">)</span>
<span class="co">#&gt; Rows: 506</span>
<span class="co">#&gt; Columns: 8</span>
<span class="co">#&gt; $ anzsic_division_code    &lt;chr&gt; "A", "A", "A", "A", "A", "A", "A", "A", "A", "â€¦</span>
<span class="co">#&gt; $ anzsic_division         &lt;chr&gt; "Agriculture, Forestry and Fishing", "Agricultâ€¦</span>
<span class="co">#&gt; $ anzsic_subdivision_code &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1", "1", "â€¦</span>
<span class="co">#&gt; $ anzsic_subdivision      &lt;chr&gt; "Agriculture", "Agriculture", "Agriculture", "â€¦</span>
<span class="co">#&gt; $ anzsic_group_code       &lt;chr&gt; "11", "11", "11", "11", "11", "12", "12", "12"â€¦</span>
<span class="co">#&gt; $ anzsic_group            &lt;chr&gt; "Nursery and Floriculture Production", "Nurserâ€¦</span>
<span class="co">#&gt; $ anzsic_class_code       &lt;chr&gt; "111", "112", "113", "114", "115", "121", "122â€¦</span>
<span class="co">#&gt; $ anzsic_class            &lt;chr&gt; "Nursery Production (Under Cover)", "Nursery Pâ€¦</span>
<span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">asced_foe</span><span class="op">)</span>
<span class="co">#&gt; Rows: 439</span>
<span class="co">#&gt; Columns: 6</span>
<span class="co">#&gt; $ aced_foe_broad_code    &lt;chr&gt; "01", "01", "01", "01", "01", "01", "01", "01",â€¦</span>
<span class="co">#&gt; $ aced_foe_broad         &lt;chr&gt; "Natural and Physical Sciences", "Natural and Pâ€¦</span>
<span class="co">#&gt; $ aced_foe_narrow_code   &lt;chr&gt; "0100", "0101", "0101", "0101", "0101", "0103",â€¦</span>
<span class="co">#&gt; $ aced_foe_narrow        &lt;chr&gt; "Natural and Physical Sciences, nfd", "Mathematâ€¦</span>
<span class="co">#&gt; $ aced_foe_detailed_code &lt;chr&gt; "010000", "010100", "010101", "010103", "010199â€¦</span>
<span class="co">#&gt; $ aced_foe_detailed      &lt;chr&gt; "Natural and Physical Sciences, nfd", "Mathematâ€¦</span>
<span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">asced_qual</span><span class="op">)</span>
<span class="co">#&gt; Rows: 64</span>
<span class="co">#&gt; Columns: 6</span>
<span class="co">#&gt; $ aced_qual_broad_code    &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1", "1", "â€¦</span>
<span class="co">#&gt; $ aced_qual_broad         &lt;chr&gt; "Postgraduate Degree Level", "Postgraduate Degâ€¦</span>
<span class="co">#&gt; $ aced_qual_narrow_code   &lt;chr&gt; "11", "11", "11", "11", "11", "11", "12", "12"â€¦</span>
<span class="co">#&gt; $ aced_qual_narrow        &lt;chr&gt; "Doctoral Degree Level", "Doctoral Degree Leveâ€¦</span>
<span class="co">#&gt; $ aced_qual_detailed_code &lt;chr&gt; "111", "112", "113", "114", "115", "116", "121â€¦</span>
<span class="co">#&gt; $ aced_qual_detailed      &lt;chr&gt; "Higher Doctorate", "Doctorate by Research", "â€¦</span>
<span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">sa42016</span><span class="op">)</span>
<span class="co">#&gt; Rows: 107</span>
<span class="co">#&gt; Columns: 10</span>
<span class="co">#&gt; $ sa4_code_2016   &lt;chr&gt; "101", "102", "103", "104", "105", "106", "107", "108"â€¦</span>
<span class="co">#&gt; $ sa4_name_2016   &lt;chr&gt; "Capital Region", "Central Coast", "Central West", "Coâ€¦</span>
<span class="co">#&gt; $ gcc_code_2016   &lt;chr&gt; "1RNSW", "1GSYD", "1RNSW", "1RNSW", "1RNSW", "1RNSW", â€¦</span>
<span class="co">#&gt; $ gcc_name_2016   &lt;chr&gt; "Rest of NSW", "Greater Sydney", "Rest of NSW", "Rest â€¦</span>
<span class="co">#&gt; $ state_code_2016 &lt;chr&gt; "1", "1", "1", "1", "1", "1", "1", "1", "1", "1", "1",â€¦</span>
<span class="co">#&gt; $ state_name_2016 &lt;chr&gt; "New South Wales", "New South Wales", "New South Walesâ€¦</span>
<span class="co">#&gt; $ areasqkm_2016   &lt;dbl&gt; 51895.5631, 1681.0724, 70297.0604, 13229.7578, 339363.â€¦</span>
<span class="co">#&gt; $ cent_long       &lt;dbl&gt; 149.2450, 151.2855, 148.3558, 152.7739, 145.0269, 150.â€¦</span>
<span class="co">#&gt; $ cent_lat        &lt;dbl&gt; -35.56480, -33.30797, -33.21697, -29.81603, -30.98611,â€¦</span>
<span class="co">#&gt; $ geometry        &lt;list&gt; [150.31133, 150.31258, 150.30964, 150.31133, -35.6658â€¦</span>
<span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">ced2018</span><span class="op">)</span>
<span class="co">#&gt; Rows: 169</span>
<span class="co">#&gt; Columns: 6</span>
<span class="co">#&gt; $ ced_code_2018 &lt;chr&gt; "101", "102", "103", "104", "105", "106", "107", "108", â€¦</span>
<span class="co">#&gt; $ ced_name_2018 &lt;chr&gt; "Banks", "Barton", "Bennelong", "Berowra", "Blaxland", "â€¦</span>
<span class="co">#&gt; $ areasqkm_2018 &lt;dbl&gt; 49.4460, 39.6466, 58.6052, 749.6359, 61.1166, 98.3974, 3â€¦</span>
<span class="co">#&gt; $ cent_long     &lt;dbl&gt; 151.0465, 151.1274, 151.0985, 151.0385, 151.0090, 151.15â€¦</span>
<span class="co">#&gt; $ cent_lat      &lt;dbl&gt; -33.96482, -33.94082, -33.79360, -33.56993, -33.89634, -â€¦</span>
<span class="co">#&gt; $ geometry      &lt;list&gt; [151.01558, 151.01209, 151.00812, 151.00593, 151.00422,â€¦</span></code></pre></div>
</div>
<div id="converting-state-names-and-abbreviations" class="section level2">
<h2 class="hasAnchor">
<a href="#converting-state-names-and-abbreviations" class="anchor"></a>Converting state names and abbreviations</h2>
<p>The <code><a href="reference/clean_state.html">clean_state()</a></code> function makes it easy to wrangle vectors of State names and abbreviations - which might be in different forms and possibly misspelled.</p>
<p>Letâ€™s start with a character vector that includes some misspelled State names, some correctly spelled state names, as well as some abbreviations both malformed and correctly formed.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"western Straya"</span>, <span class="st">"w. A "</span>, <span class="st">"new soth wailes"</span>, <span class="st">"SA"</span>, <span class="st">"tazz"</span>, <span class="st">"Victoria"</span>,
       <span class="st">"northn territy"</span><span class="op">)</span></code></pre></div>
<p>To convert this character vector to a vector of abbreviations for State names, use <code><a href="reference/clean_state.html">clean_state()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "WA"  "WA"  "NSW" "SA"  "Tas" "Vic" "NT"</span></code></pre></div>
<p>If you want full names for the states rather than abbreviations:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">x</span>, to <span class="op">=</span> <span class="st">"state_name"</span><span class="op">)</span>
<span class="co">#&gt; [1] "Western Australia"  "Western Australia"  "New South Wales"   </span>
<span class="co">#&gt; [4] "South Australia"    "Tasmania"           "Victoria"          </span>
<span class="co">#&gt; [7] "Northern Territory"</span></code></pre></div>
<p>By default, <code><a href="reference/clean_state.html">clean_state()</a></code> uses fuzzy or approximate string matching to match the elements in your character vector to state names/abbreviations. If you only want to permit exact matching, you can disable fuzzy matching. This means you will never get false matches, but you will also fail to match misspelled state names or malformed abbreviations; youâ€™ll get an <code>NA</code> if no match can be found.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="fu"><a href="reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">x</span>, fuzzy_match <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; [1] NA    NA    NA    "SA"  NA    "Vic" NA</span></code></pre></div>
<p>If your data is in a data frame, <code><a href="reference/clean_state.html">clean_state()</a></code> works well within a <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code> call:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="va">x_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>state <span class="op">=</span> <span class="va">x</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
 <span class="va">x_df</span> <span class="op">%&gt;%</span> 
   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>state_abbr <span class="op">=</span> <span class="fu"><a href="reference/clean_state.html">clean_state</a></span><span class="op">(</span><span class="va">state</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;             state state_abbr</span>
<span class="co">#&gt; 1  western Straya         WA</span>
<span class="co">#&gt; 2           w. A          WA</span>
<span class="co">#&gt; 3 new soth wailes        NSW</span>
<span class="co">#&gt; 4              SA         SA</span>
<span class="co">#&gt; 5            tazz        Tas</span>
<span class="co">#&gt; 6        Victoria        Vic</span>
<span class="co">#&gt; 7  northn territy         NT</span></code></pre></div>
</div>
<div id="australian-public-holidays" class="section level2">
<h2 class="hasAnchor">
<a href="#australian-public-holidays" class="anchor"></a>Australian public holidays</h2>
<p>This package includes the <code>auholidays</code> dataset from the <a href="https://data.gov.au/data/dataset/australian-holidays-machine-readable-dataset">Australian Public Holidays Dates Machine Readable Dataset</a> as well as a helper function <code>is_holiday</code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">auholidays</span><span class="op">)</span>
<span class="co">#&gt; tibble[,3] [879 Ã— 3] (S3: tbl_df/tbl/data.frame)</span>
<span class="co">#&gt;  $ Date        : Date[1:879], format: "2021-01-01" "2021-01-26" ...</span>
<span class="co">#&gt;  $ Name        : chr [1:879] "New Year's Day" "Australia Day" "Canberra Day" "Good Friday" ...</span>
<span class="co">#&gt;  $ Jurisdiction: chr [1:879] "ACT" "ACT" "ACT" "ACT" ...</span>


<span class="fu"><a href="reference/is_holiday.html">is_holiday</a></span><span class="op">(</span><span class="st">'2020-01-01'</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>
<span class="fu"><a href="reference/is_holiday.html">is_holiday</a></span><span class="op">(</span><span class="st">'2019-05-27'</span>, jurisdictions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'ACT'</span>, <span class="st">'TAS'</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE</span>

<span class="va">h_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>dates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'2020-01-01'</span>, <span class="st">'2020-01-10'</span><span class="op">)</span><span class="op">)</span>

<span class="va">h_df</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>IsHoliday <span class="op">=</span> <span class="fu"><a href="reference/is_holiday.html">is_holiday</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;        dates IsHoliday</span>
<span class="co">#&gt; 1 2020-01-01      TRUE</span>
<span class="co">#&gt; 2 2020-01-10     FALSE</span></code></pre></div>
</div>
<div id="parsing-income-ranges" class="section level2">
<h2 class="hasAnchor">
<a href="#parsing-income-ranges" class="anchor"></a>Parsing income ranges</h2>
<p>The <code>parse_income_range</code> function provides some tools for extracting numbers from income ranges commonly used in Australian data. For example:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"$1-$199 ($1-$10,399)"</span>, limit <span class="op">=</span> <span class="st">"lower"</span><span class="op">)</span>
<span class="co">#&gt; [1] 1</span>
<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"$1-$199 ($1-$10,399)"</span>, limit <span class="op">=</span> <span class="st">"upper"</span><span class="op">)</span>
<span class="co">#&gt; [1] 199</span>
<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"$1-$199 ($1-$10,399)"</span>, limit <span class="op">=</span> <span class="st">"mid"</span><span class="op">)</span>
<span class="co">#&gt; [1] 100</span>

<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"e. $180,001 or more"</span>, limit <span class="op">=</span> <span class="st">"upper"</span><span class="op">)</span>
<span class="co">#&gt; [1] 180001</span>
<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"e. $180,001 or more"</span>, limit <span class="op">=</span> <span class="st">"upper"</span>, max_income <span class="op">=</span> <span class="fl">300e3</span><span class="op">)</span>
<span class="co">#&gt; [1] 3e+05</span>


<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"Nil income"</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span>
<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"Negative income"</span><span class="op">)</span>
<span class="co">#&gt; [1] 0</span>
<span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="st">"Negative income"</span>, negative_as_zero <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span>


<span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>income_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Negative income"</span>,
                        <span class="st">"Nil income"</span>,
                        <span class="st">"$1,500-$1,749 ($78,000-$90,999)"</span>,
                        <span class="st">"$1,750-$1,999 ($91,000-$103,999)"</span>,
                        <span class="st">"$2,000-$2,999 ($104,000-$155,999)"</span>,
                        <span class="st">"$3,000 or more ($156,000 or more)"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>lower <span class="op">=</span> <span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="va">income_range</span><span class="op">)</span>,
         mid   <span class="op">=</span> <span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="va">income_range</span>, limit <span class="op">=</span> <span class="st">"mid"</span><span class="op">)</span>,
         upper <span class="op">=</span> <span class="fu"><a href="reference/parse_income_range.html">parse_income_range</a></span><span class="op">(</span><span class="va">income_range</span>, limit <span class="op">=</span> <span class="st">"upper"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 6 x 4</span>
<span class="co">#&gt;   income_range                      lower   mid upper</span>
<span class="co">#&gt;   &lt;chr&gt;                             &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Negative income                       0     0     0</span>
<span class="co">#&gt; 2 Nil income                            0     0     0</span>
<span class="co">#&gt; 3 $1,500-$1,749 ($78,000-$90,999)    1500  1625  1749</span>
<span class="co">#&gt; 4 $1,750-$1,999 ($91,000-$103,999)   1750  1875  1999</span>
<span class="co">#&gt; 5 $2,000-$2,999 ($104,000-$155,999)  2000  2500  2999</span>
<span class="co">#&gt; 6 $3,000 or more ($156,000 or more)  3000  3000  3000</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/runapp-aus/strayr/">https://â€‹github.com/â€‹runapp-aus/â€‹strayr/â€‹</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Will Mackey <br><small class="roles"> Author, maintainer </small>  </li>
<li>Matt Johnson <br><small class="roles"> Author </small>  </li>
<li>David Diviny <br><small class="roles"> Author </small>  </li>
<li>Matt Cowgill <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0422-3300" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/runapp-aus/strayr/actions"><img src="https://github.com/runapp-aus/strayr/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Will Mackey, Matt Johnson, David Diviny, Matt Cowgill.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
